"0","pop_race <- read_csv(""input_data/race18.csv"") %>%"
"0","  select(name, race, total_pop = estimate)"
"0","case_by_race <- read_csv(""input_data/covid_ct_race.csv"") %>%"
"0","  mutate(race = as_factor(race) %>% "
"0","           fct_relabel(str_remove, ""NH "") %>%"
"0","           fct_recode(Latino = ""Hispanic""),"
"0","         date = mdy(date),"
"0","         name = ""Connecticut"") %>%"
"0","  inner_join(pop_race, by = c(""name"", ""race"")) %>%"
"0","  filter(date == max(date))"
"0",""
"0","race_date <- unique(case_by_race$date)"
"0","race_date_fmt <- format(race_date, ""%m/%d/%Y"")"
"0",""
"0","rates_by_race <- bind_rows("
"0","  case_by_race %>% mutate(race = ""Average""),"
"0","  case_by_race"
"0",") %>%"
"0","  group_by(name, date, race) %>%"
"0","  summarise_at(vars(cases, deaths, total_pop), sum) %>%"
"0","  mutate_at(vars(cases, deaths), list(rate_10k = ~round(. / total_pop * 1e4, digits = 1))) %>%"
"0","  ungroup() %>%"
"0","  filter(race != ""Other"") %>%"
"0","  mutate(race = as_factor(race) %>%"
"0","           fct_reorder(cases_rate_10k, .desc = TRUE) %>%"
"0","           fct_relevel(""Average"")) %>%"
"0","  arrange(race)"
"0",""
